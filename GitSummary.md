# Git学习笔记

## Git概述

当然！Git 是一个分布式版本控制系统，用于跟踪和管理项目代码的变化。它由Linus Torvalds在2005年创建，是为了更好地管理 Linux 内核的开发而开发的。Git 是目前最流行和广泛使用的版本控制系统之一，被许多开发者和团队用于协作开发和保持代码的整洁和可追溯性。

以下是 Git 的一些主要特点：

1. **分布式版本控制**：每个开发者都拥有完整的项目代码和历史记录的本地副本。这使得在离线状态下工作成为可能，并且对中央服务器的依赖性较小。

2. **代码分支和合并**：Git 鼓励开发者通过创建分支来独立开发新功能或解决问题。完成后，可以将分支合并回主要代码库，从而使团队更容易协作，同时保持代码库的稳定性。

3. **快速和高效**：Git 的设计目标之一是高效处理大型项目。它使用了有效的算法来压缩和存储数据，使得执行各种操作都非常迅速。

4. **版本控制**：Git 记录项目的历史记录，包括所有提交和更改的详细信息。这使得开发者可以轻松地回退到旧版本或查找代码中的更改。

5. **可定制性**：Git 可以根据项目的需要进行定制。你可以配置 Git Hooks 来在特定事件发生时触发自定义脚本。

6. **开放源代码**：Git 是一个开源项目，任何人都可以查看其源代码，这也为其广泛的发展做出了贡献。

Git 使用命令行界面，但也有许多可视化工具和集成开发环境（IDE）插件，使得使用 Git 更加便捷。一些常用的 Git 命令包括：

- `git init`：在一个新目录中初始化一个空的 Git 代码库。
- `git clone`：从远程代码库克隆项目到本地。
- `git add`：将文件添加到暂存区，准备进行提交。
- `git commit`：提交暂存区中的更改到代码库，并记录提交信息。
- `git push`：将本地提交推送到远程代码库。
- `git pull`：从远程代码库拉取并合并更改到本地。
- `git branch`：列出本地分支，并创建、删除或切换分支。
- `git merge`：将一个分支的更改合并到当前分支。
- `git log`：查看项目的提交历史记录。

学习 Git 对于软件开发者来说是非常重要的，因为它为项目的版本控制和协作提供了强大的工具。它也是许多开源项目的主要版本控制系统。你可以通过官方网站（https://git-scm.com/）或其他在线资源来了解更多关于 Git 的信息和教程。

## Linux常用命令行

```
ls/ll查看当前目录,ll查看隐藏文件
cat查看文件内容
touch 创建文件
```

## 初始化本地仓库

在文件夹打开git bash输入

```
git init
```

## 基础操作指令

```
git add (workpalce -> index)
git commit(index -> repository)
touch 文件名.后缀//创建文件
rm -rf 文件名//删除文件
git rm file1 file2 file3 ...//一次性删除多个文件
```

![image-20230801171541018](C:\Users\DeanNoteBook\AppData\Roaming\Typora\typora-user-images\image-20230801171541018.png)

### git status

- 作用：查看修改的状态(暂存区、工作区)
- 命令实行：git status

### git add

- 作用：添加工作区一个或多个文件的修改到暂存区
- 命令实行：git add 单个文件名/通配符
  - 将所有修改加入暂存区：git add .

### git commit

- 作用：提交暂存区内容到本地仓库的当前分支
- 命令实行：git commit -m "注释内容"

### git log

- 作用：查看提交记录
- 命令实行：git log [option]
  - option
    - --all 显示所有分支
    - --pretty=oneline 将提交信息显示为一行
    - --abbrev-commit 使得输出的commitld更简短
    - --graph 以图形方式显示

### git reset

- 作用：版本切换
- 命令实行：git reset --hard commitID
  - commitID可以使用git log 和git-log查看

- 查看已经删除的日志记录
  - git reflog 这个指令可以看到已经删除的提交记录

## 添加文件至忽略列表

一般我们总会有些文件无需纳入Gt的管理，也不希望它们总出现在未跟踪文件列表。通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。在这种情况下，我们可以在工作目录中创建一个名为gitignore的文件（文件名称固定），列出要忽略的文件模式。

## 分支概念

在 Git 中，分支（Branch）是指开发者在代码库中独立开发新功能、修复问题或进行实验的独立线路。可以将分支视为代码库的不同版本，开发者可以在不影响主要代码库（通常称为主干或主分支）的情况下，同时进行多个不同的开发任务。

Git 中的分支有以下几个重要特点：

1. **独立性**：每个分支都是相对于父分支的一个完全独立的代码状态。修改一个分支不会直接影响其他分支。

2. **灵活性**：可以随时在任何地方创建新的分支，从当前分支创建，或者从其他分支创建。

3. **合并性**：完成某个分支的开发后，可以将其合并回主分支，以将新功能或修复的问题添加到主代码库中。

4. **可视化**：可以通过 Git 可视化工具或 Git 客户端查看所有分支的结构。

5. **版本控制**：每个分支都保留了完整的项目历史记录，包括每次提交的更改。

Git 的主要分支是 `master`（在最近的 Git 版本中改为 `main` 或其他名称）。除此之外，开发者可以根据需要创建其他自定义分支，通常用于开发新功能或修复问题。创建分支时，它会继承父分支的代码状态，然后在其基础上进行开发。

## **常用的 Git 命令**

- `git branch`：列出所有分支，以及当前所在分支。
- `git branch <branch_name>`：创建一个名为 `<branch_name>` 的新分支。
- `git checkout <branch_name>`：切换到名为 `<branch_name>` 的分支。
  - git checkout -b <branch_name>:切换分支，如果该分支不存在则创建一个名为branch_name的分支
- `git merge <branch_name>`：将名为 `<branch_name>` 的分支合并到当前分支。
- `git branch -d <branch_name>`：删除名为 `<branch_name>` 的分支（注意：只能删除已合并的分支）。
  - `git branch -D <branch_name>`：强制删除,不做任何检查

分支是 Git 中非常有用且强大的概念，它使得团队成员可以并行开发不同的功能，然后将它们集成到主代码库中，确保代码的稳定性和可维护性。

## 分支使用原则

几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来进行重大的Bug修改、开发新的功能,以免影响开发主线。在开发中，一般有如下分支使用原则与流程：

- master （生产）分支线上分支，主分支，中小规模项目作为线上运行的应用对应的分支；develop （开发）分支是从master创建的分支，一般作为开发部门的主要开发分支，如果没有其他并行开发不同期上线要求，都可以在此版本进行开发,阶段开发完成后,需要是合并到master分支,准备上线。

- feature/xxxx分支从develop创建的分支,一般是同期并行开发,但不同期上线时创建的分支,分支上的研发任务完成后合并到develop分支。

- hotfix/xxxx分支，从master派生的分支，一般作为线上bug修复使用，修复完成后需要合并到master、test、develop分支。

- 还有一些其他分支，在此不再详述，例如test分支（用于代码测试）、pre分支（预上线分支）等等。

![image-20230802200714472](C:\Users\DeanNoteBook\AppData\Roaming\Typora\typora-user-images\image-20230802200714472.png)