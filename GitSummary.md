# Git学习笔记

## 一、Git概述

当然！Git 是一个分布式版本控制系统，用于跟踪和管理项目代码的变化。它由Linus Torvalds在2005年创建，是为了更好地管理 Linux 内核的开发而开发的。Git 是目前最流行和广泛使用的版本控制系统之一，被许多开发者和团队用于协作开发和保持代码的整洁和可追溯性。

以下是 Git 的一些主要特点：

1. **分布式版本控制**：每个开发者都拥有完整的项目代码和历史记录的本地副本。这使得在离线状态下工作成为可能，并且对中央服务器的依赖性较小。

2. **代码分支和合并**：Git 鼓励开发者通过创建分支来独立开发新功能或解决问题。完成后，可以将分支合并回主要代码库，从而使团队更容易协作，同时保持代码库的稳定性。

3. **快速和高效**：Git 的设计目标之一是高效处理大型项目。它使用了有效的算法来压缩和存储数据，使得执行各种操作都非常迅速。

4. **版本控制**：Git 记录项目的历史记录，包括所有提交和更改的详细信息。这使得开发者可以轻松地回退到旧版本或查找代码中的更改。

5. **可定制性**：Git 可以根据项目的需要进行定制。你可以配置 Git Hooks 来在特定事件发生时触发自定义脚本。

6. **开放源代码**：Git 是一个开源项目，任何人都可以查看其源代码，这也为其广泛的发展做出了贡献。

Git 使用命令行界面，但也有许多可视化工具和集成开发环境（IDE）插件，使得使用 Git 更加便捷。一些常用的 Git 命令包括：

- `git init`：在一个新目录中初始化一个空的 Git 代码库。
- `git clone`：从远程代码库克隆项目到本地。
- `git add`：将文件添加到暂存区，准备进行提交。
- `git commit`：提交暂存区中的更改到代码库，并记录提交信息。
- `git push`：将本地提交推送到远程代码库。
- `git pull`：从远程代码库拉取并合并更改到本地。
- `git branch`：列出本地分支，并创建、删除或切换分支。
- `git merge`：将一个分支的更改合并到当前分支。
- `git log`：查看项目的提交历史记录。

学习 Git 对于软件开发者来说是非常重要的，因为它为项目的版本控制和协作提供了强大的工具。它也是许多开源项目的主要版本控制系统。你可以通过官方网站（https://git-scm.com/）或其他在线资源来了解更多关于 Git 的信息和教程。

## Linux常用命令行

- ls/ll查看当前目录,ll查看隐藏文件

- cat查看文件内容

- touch 创建文件

- cat [选项] [文件名...]

  - `-n`：在输出的每一行前面显示行号。
  - `-b`：在输出的非空行前面显示行号。
  - `-s`：合并连续的空行为一个空行。

- `cd` 是命令行界面中的一个常用命令，用于在文件系统中切换当前工作目录。`cd` 是 "Change Directory" 的缩写。

  `cd` 命令的使用方法如下：

  ```bash
  cd [目录路径]
  ```

  其中，`目录路径` 是要进入的目标目录的路径。有几种常用的 `cd` 命令用法：

  ```bash
  进入指定目录：cd /path/to/directory
  进入上级目录：cd .. #使用 `..` 进入当前目录的上级目录。
  进入用户的主目录（家目录）：cd #不加参数直接使用 `cd` 命令，将进入用户的主目录（通常为 `/home/username` 或 `/Users/username`）。
  进入用户的主目录下的某个子目录：cd ~/subdirectory #使用 `~` 表示用户的主目录，再加上目标子目录路径。
  ```

  需要注意的是，`cd` 命令只能用于进入存在的目录。如果目录路径不存在，`cd` 命令将会报错。

  `cd` 命令是命令行操作中非常基本和常用的命令，它可以帮助用户在文件系统中导航，方便进行各种操作。在不同的操作系统上，文件路径的表示方式可能略有不同，例如在 Windows 上使用反斜杠 `\` 而在 Unix-like 系统上使用正斜杠 `/`。

## 初始化本地仓库

在文件夹打开git bash输入

```bash
git init
```

## 二、基础操作指令

```bash
git add (workpalce -> index)
git commit(index -> repository)
touch 文件名.后缀//创建文件
rm -rf 文件名//删除文件
git rm file1 file2 file3 ...//一次性删除多个文件
```

![image-20230801171541018](C:\Users\DeanNoteBook\AppData\Roaming\Typora\typora-user-images\image-20230801171541018.png)

### git status

- 作用：查看修改的状态(暂存区、工作区)
- 命令实行：git status

### git add

- 作用：添加工作区一个或多个文件的修改到暂存区
- 命令实行：git add 单个文件名/通配符
  - 将所有修改加入暂存区：git add .

### git commit

- 作用：提交暂存区内容到本地仓库的当前分支
- 命令实行：git commit -m "注释内容"

### git log

- 作用：查看提交记录
- 命令实行：git log [option]
  - option
    - --all 显示所有分支
    - --pretty=oneline 将提交信息显示为一行
    - --abbrev-commit 使得输出的commitld更简短
    - --graph 以图形方式显示

### git reset

- 作用：版本切换
- 命令实行：git reset --hard commitID
  - commitID可以使用git log 和git-log查看

- 查看已经删除的日志记录
  - git reflog 这个指令可以看到已经删除的提交记录

## 添加文件至忽略列表

一般我们总会有些文件无需纳入Gt的管理，也不希望它们总出现在未跟踪文件列表。通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。在这种情况下，我们可以在工作目录中创建一个名为gitignore的文件（文件名称固定），列出要忽略的文件模式。

## 三、分支概念

在 Git 中，分支（Branch）是指开发者在代码库中独立开发新功能、修复问题或进行实验的独立线路。可以将分支视为代码库的不同版本，开发者可以在不影响主要代码库（通常称为主干或主分支）的情况下，同时进行多个不同的开发任务。

Git 中的分支有以下几个重要特点：

1. **独立性**：每个分支都是相对于父分支的一个完全独立的代码状态。修改一个分支不会直接影响其他分支。

2. **灵活性**：可以随时在任何地方创建新的分支，从当前分支创建，或者从其他分支创建。

3. **合并性**：完成某个分支的开发后，可以将其合并回主分支，以将新功能或修复的问题添加到主代码库中。

4. **可视化**：可以通过 Git 可视化工具或 Git 客户端查看所有分支的结构。

5. **版本控制**：每个分支都保留了完整的项目历史记录，包括每次提交的更改。

Git 的主要分支是 `master`（在最近的 Git 版本中改为 `main` 或其他名称）。除此之外，开发者可以根据需要创建其他自定义分支，通常用于开发新功能或修复问题。创建分支时，它会继承父分支的代码状态，然后在其基础上进行开发。

## **常用分支操作命令**

- `git branch`：列出所有分支，以及当前所在分支。
- `git branch <branch_name>`：创建一个名为 `<branch_name>` 的新分支。
- `git checkout <branch_name>`：切换到名为 `<branch_name>` 的分支。
  - git checkout -b <branch_name>:切换分支，如果该分支不存在则创建一个名为branch_name的分支
- `git merge <branch_name>`：将名为 `<branch_name>` 的分支合并到当前分支。
- `git branch -d <branch_name>`：删除名为 `<branch_name>` 的分支（注意：只能删除已合并的分支）。
  - `git branch -D <branch_name>`：强制删除,不做任何检查。

分支是 Git 中非常有用且强大的概念，它使得团队成员可以并行开发不同的功能，然后将它们集成到主代码库中，确保代码的稳定性和可维护性。

## 分支使用原则

几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来进行重大的Bug修改、开发新的功能,以免影响开发主线。在开发中，一般有如下分支使用原则与流程：

- master （生产）分支线上分支，主分支，中小规模项目作为线上运行的应用对应的分支；

- develop （开发）分支是从master创建的分支，一般作为开发部门的主要开发分支，如果没有其他并行开发不同期上线要求，都可以在此版本进行开发,阶段开发完成后,需要是合并到master分支,准备上线。

- feature/xxxx分支从develop创建的分支,一般是同期并行开发,但不同期上线时创建的分支,分支上的研发任务完成后合并到develop分支。

- hotfix/xxxx分支，从master派生的分支，一般作为线上bug修复使用，修复完成后需要合并到master、test、develop分支。

- 还有一些其他分支，在此不再详述，例如test分支（用于代码测试）、pre分支（预上线分支）等等。

![image-20230802200714472](C:\Users\DeanNoteBook\AppData\Roaming\Typora\typora-user-images\image-20230802200714472.png)

## 四、远程仓库——GitHub

### 概述

GitHub 仓库是指在 GitHub 上托管的代码仓库，它是一个存储代码和版本控制的远程仓库。GitHub 是一个面向开发者的代码托管平台，许多开源项目和团队都将代码存储在 GitHub 仓库中，使得多人协作、代码审查和版本控制更加方便和高效。

GitHub 仓库有以下特点：

1. **版本控制**：GitHub 使用 Git 进行版本控制，可以追踪代码的历史变化，并支持回滚到特定版本。

2. **多人协作**：多个开发者可以同时在同一个仓库中工作，各自创建分支进行开发，并通过 Pull Request（PR）协作合并代码。

3. **代码审查**：通过 Pull Request，其他开发者可以对代码进行审查和评论，保证代码质量。

4. **问题跟踪**：GitHub 提供了问题跟踪系统，可以方便地创建和跟踪 bug、特性请求和其他任务。

5. **持续集成**：可以与 CI/CD 工具集成，实现自动化测试和部署。

下面列出一些常用的用于操作 GitHub 仓库的 Git 指令：

1. **克隆远程仓库到本地：**
   ```bash
   git clone <repository_url>
   ```
   将远程仓库复制到本地，以便进行开发和提交。

2. **添加远程仓库：**
   ```bash
   git remote add origin <repository_url>
   ```
   将本地仓库与远程仓库关联。

3. **将本地代码推送到远程仓库：**
   ```bash
   git push origin <branch_name>
   ```
   将本地分支的提交推送到远程仓库。

4. **从远程仓库拉取最新代码：**
   ```bash
   git pull origin <branch_name>
   ```
   从远程仓库拉取最新代码并合并到当前分支。

5. **创建新分支并切换到该分支：**
   ```bash
   git checkout -b <new_branch_name>
   ```
   创建一个新的分支并切换到该分支。

6. **查看当前分支和所有分支：**
   ```bash
   git branch
   ```
   列出所有分支，带有 `*` 的是当前所在分支。

7. **合并分支：**
   ```bash
   git merge <branch_name>
   ```
   将指定分支合并到当前分支。

8. **删除分支：**
   ```bash
   git branch -d <branch_name>
   ```
   删除指定分支（注意：只能删除已合并的分支）。

9. **提交代码：**
   ```bash
   git add .
   git commit -m "commit message"
   ```
   将修改添加到暂存区并提交到代码库。

10. **创建标签：**
    ```bash
    git tag <tag_name>
    ```
    在当前提交上创建一个新的标签。

11. **查看提交历史记录：**
    
    ```bash
    git log
    ```
    查看当前分支的提交历史记录。

以上是一些常用的用于操作 GitHub 仓库的 Git 指令，可以帮助开发者有效地管理代码，进行多人协作，并与 GitHub 进行交互。

### 常用仓库操作指令

```bash
git remote -v  #查看当前所有远程地址别名
git remote add Name originalLink  #将originalLink命名为Name
git push Name branch_name  #将本地库推送至远程库
git pull Name branch_name  #将远程库拉取到本地库
git clone <repository_url> #将远程库克隆到本地库
#clone会做以下操作：1.拉取代码。2.初始化本地库。3.创建别名（默认为origin）
```

